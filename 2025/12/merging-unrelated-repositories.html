<!doctype html>
<html lang=""><head>
    <meta charset=utf-8>

    <title>Merging Unrelated Projects using Git ~ Wouter J</title>

    <meta http-equiv=X-UA-Compatible content="IE=edge">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name=theme-color content=#cc3333>

    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Serif:400,400i,700|Oswald|Inconsolata" rel="stylesheet">
    <link rel=stylesheet href="/assets/main.css?v2">
    <link rel=icon type=image/png href=/img/css/favicon.png sizes=96x96>
    <link rel="me" href="https://phpc.social/@wouterj"><link type="application/atom+xml" rel="alternate" href="https://wouterj.nl/feed.xml" title="Wouter J" /><meta content="Wouter J" property="og:site_name">
    
      <meta property="og:title" content="Merging Unrelated Projects using Git">
      <meta property="og:type" content="article">
      <meta property="og:description" content="For a while, I’ve worked on a new build tool
for the Symfony documentation. The project started with a fresh git init,
but now it’s time to merge it with our existing build tool.
I want all contributors of the existing tool to receive credits for the
code they build, but I also don’t want to ignore all iterations of the new
build tool project. During SymfonyCon 2025 Hackday last weekend, I wanted
to find a way to achieve this. And apparently, it is straightforward… in
Git terms at least.

">
      <meta property="article:published_time" content="2025-12-03T00:00:00+00:00">
      <meta property="og:url" content="https://wouterj.nl/2025/12/merging-unrelated-repositories">
      <meta property="og:image" content="https://wouterj.nl/img/og/merging-unrelated-repositories.png">
      <meta property="og:image:height" content="340">
      <meta property="og:image:width" content="680">

      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:site" content="@wouterjnl">
      <meta name="twitter:creator" content="@wouterjnl">
      <meta name="twitter:title" content="Merging Unrelated Projects using Git">
      <meta name="twitter:description" content="For a while, I’ve worked on a new build tool
for the Symfony documentation. The project started with a fresh git init,
but now it’s time to merge it with our existing build tool.
I want all contributors of the existing tool to receive credits for the
code they build, but I also don’t want to ignore all iterations of the new
build tool project. During SymfonyCon 2025 Hackday last weekend, I wanted
to find a way to achieve this. And apparently, it is straightforward… in
Git terms at least.

">
      <meta name="twitter:image" content="https://wouterj.nl/img/og/merging-unrelated-repositories.png">
    <script src="https://cdn.counter.dev/script.js" data-id="07663ec4-bb0d-40fb-ad71-e7b091c17341" data-utcoffset="1"></script></head>
<body class="page  page--post" itemscope itemtype="http://schema.org/WebPage"><header class=page__header>
    <hgroup class=page__headline>
        <h1 class="site-title" itemprop="name"><a href="/">Wouter J</a></h1>
    </hgroup><nav class=page__nav>
        <ul class="nav"></ul>
    </nav></div>
</header>
<div class=page__body itemscope itemtype="http://schema.org/Blog">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <h1 class="post__heading" itemprop="headline">Merging Unrelated Projects using Git</h1>

    <div class="post__metadata">
        <time class="post__published-date" datetime="2025-12-03T00:00:00+00:00" itemprop="datePublished">
            DEC '25
        </time>
        
        <span class="post__category">
            
            
            <span class="post__category__icon">&#xf139;</span>
            
            article
        </span>
        
    </div>

    

    <div itemprop="articleBody">
        <div class="post__entry--excerpt">
            
            <p>For a while, I’ve worked on a <a href="https://github.com/wouterj/symfony-docs-guides/tree/main/lib/symfony-extension">new build tool</a>
for the Symfony documentation. The project started with a fresh <code class="highlighter-shiki">git init</code>,
but now it’s time to merge it with our <a href="https://github.com/symfony-tools/docs-builder/">existing build tool</a>.
I want all contributors of the existing tool to receive credits for the
code they build, but I also don’t want to ignore all iterations of the new
build tool project. During SymfonyCon 2025 Hackday last weekend, I wanted
to find a way to achieve this. And apparently, it is straightforward… in
Git terms at least.</p></div><div class="post__entry">

<p>First, we need to add the new project as a remote to the old project: we
can just point to the local repository! Then, instruct Git to merge even
though both branches don’t share any common ancestors in the commit tree
using a special flag.</p>

<div class="language-bash highlighter-shiki"><pre class="shiki-gutter">1
2
3
4
</pre><pre class="shiki-code"><code><span class="line" data-linenr="1"><span style="color: #6B90C0; font-style: italic"># add a remote, pointing at the new Git project on my local filesystem</span></span>
<span class="line" data-linenr="2"><span style="color: #BBBBBB">$ git remote add </span><span style="color: #E5673D">local</span><span style="color: #BBBBBB"> </span><span style="color: #E5673D">~</span><span style="color: #BBBBBB">/projects/github.com/wouterj/docs-builder-new</span></span>
<span class="line" data-linenr="3"><span style="color: #BBBBBB">$ git fetch </span><span style="color: #E5673D">local</span></span>
<span class="line" data-linenr="4"><span style="color: #BBBBBB">$ git merge --allow-unrelated-histories local/main</span></span></code></pre>
</div>

<p>Without common ancestors, Git will compare the full diff leading up the
current branch and the full diff leading up the branch from the local
remote. Contributors of both projects now get credited for their work.
Pretty cool, isn’t it?</p>

<p>Using the <code class="highlighter-shiki">--allow-unrelated-histories</code> flag means you no longer have a
linear Git history; it consists of 2 separate branches at the start. <strong>Use
it for the niche use-case</strong>, and don’t make this flag your common hammer
to fix Git merge errors.</p>

        </div>
    </div>
</article>

    </div><footer class="page__footer">
    <p>&copy; Copyright 2012 - 2025 Wouter de Jong</p>
</footer>
</body>

</html>
